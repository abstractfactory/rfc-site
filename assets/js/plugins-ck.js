/*!
 * toc - jQuery Table of Contents Plugin
 * v0.2.0
 * http://projects.jga.me/toc/
 * copyright Greg Allen 2014
 * MIT License
*/(function(e){e.fn.toc=function(t){var n=this,r=e.extend({},jQuery.fn.toc.defaults,t),i=e(r.container),s=e(r.selectors,i),o=[],u=r.prefix+"-active",a=function(t,i){if(r.smoothScrolling){t.preventDefault();var s=e(t.target).attr("href"),o=e(s);e("body,html").animate({scrollTop:o.offset().top+r.scrollToOffset},400,"swing",function(){location.hash=s;i()})}e("li",n).removeClass(u);e(t.target).parent().addClass(u)},f,l=function(t){f&&clearTimeout(f);f=setTimeout(function(){var t=e(window).scrollTop(),i,s=Number.MAX_VALUE,a=0;for(var f=0,l=o.length;f<l;f++){var c=Math.abs(o[f]-t);if(c<s){a=f;s=c}}e("li",n).removeClass(u);i=e("li:eq("+a+")",n).addClass(u);r.onHighlight(i)},50)};if(r.highlightOnScroll){e(window).bind("scroll",l);l()}return this.each(function(){var t=e(this),n=e(r.listType);s.each(function(i,s){var u=e(s);o.push(u.offset().top-r.highlightOffset);var f=e("<span/>").attr("id",r.anchorName(i,s,r.prefix)).insertBefore(u),c=e("<a/>").text(r.headerText(i,s,u)).attr("href","#"+r.anchorName(i,s,r.prefix)).bind("click",function(n){e(window).unbind("scroll",l);a(n,function(){e(window).bind("scroll",l)});t.trigger("selected",e(this).attr("href"))}),h=e("<li/>").addClass(r.itemClass(i,s,u,r.prefix)).append(c);n.append(h)});t.html(n)})};jQuery.fn.toc.defaults={container:"body",listType:"<ul/>",selectors:"h1,h2,h3",smoothScrolling:!0,scrollToOffset:0,prefix:"toc",onHighlight:function(){},highlightOnScroll:!0,highlightOffset:100,anchorName:function(e,t,n){return n+e},headerText:function(e,t,n){return n.text()},itemClass:function(e,t,n,r){return r+"-"+n[0].tagName.toLowerCase()}}})(jQuery);